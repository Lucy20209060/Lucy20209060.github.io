---
title: 函数防抖和函数节流
date: 2018-10-10 15:08:43
tags: ['js', 函数防抖', '函数节流']
summary: 
---
两者都是对触发频率的控制
<a name="166d3c51"></a>
### 函数防抖(debounce)
就是连续的甚至是疯狂的没有频率的触发某个动作，当停止时，只执行最后一个触发，这样避免了很多无效的触发<br />就像公交车司机师傅只会在最后一个人上车后，才关上车门<br />适用于
* 表单组件输入内容验证<br />
* 防止多次点击导致表单多次提交<br />

等情况，防止函数过于频繁的不必要的调用

在后台管理系统页面的开发中，不可避免的要开发筛选组件，通过筛选条件的改变实时获取后台数据然后展示在页面中，是一个很友好的交互<br />![](https://cdn.nlark.com/yuque/0/2018/png/115449/1539153272919-0d7380a6-b0a2-4366-be19-5cb42758d582.png#align=left&display=inline&height=284&originHeight=742&originWidth=1952&status=done&width=747)

value值的改变，实时搜索数据，通过input的onChange函数实时获取数据的话，请求动作过于频繁，不妥<br />这时候就需要一个延时函数，它的作用是，我输入的过程中不会去做任何的动作，输入完成后再去请求数据

函数实现
```javascript
export const debounce = (func, delay) => {
    // 短时间内清除上一个定时器 不会重复触发fn
    var timer=null;
    return () => {
        clearTimeout(timer);
        timer=setTimeout(function(){
            func();
            timer = null;
        },delay);
    }
}
```
使用
```javascript
import { debounce } from 'xxx'

onChange() {
    debounce(()=>{
      // code
    }, 500)
}
```
完美

<a name="1258ad45"></a>
### [](https://www.yuque.com/luchao/blog/ogiw6g#l7wkva)函数节流(throttle)
一个事件没有频率的被频繁触发多次，节流函数可以按照固定频率去执行对应的事件处理方法，目的是降低函数触发频率，避免重复执行不必要的请求<br />函数实现
```javascript
export const throttle = (func, wait) => {
  let timer = null;
  return () => {
    if (timer) return;
    timer = setTimeout(() => {
      func();
      timer = null;
    }, wait);
  };
};
```
使用
```javascript
import { throttle } from 'xxx'

window.onscroll=throttle(()=>{
	// ...
}, 1000)
```