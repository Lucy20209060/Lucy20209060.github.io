---
title: 函数防抖和函数节流
date: 2018-10-10 15:08:43
tags: js
summary: 巧妙的延时函数让开发更快乐
---
### 函数防抖
就是一定时间段内的连续的函数调用，只执行最后一次
适用于
* 表单组件输入内容验证
* 防止多次点击导致表单多次提交
等情况，防止函数过于频繁的不必要的调用

在后台管理系统页面的开发中，不可避免的要开发筛选组件，通过筛选条件的改变实时获取后台数据然后展示在页面中，是一个很友好的交互

![屏幕快照 2018-10-10 下午2.33.49.png | center | 747x284](https://cdn.nlark.com/yuque/0/2018/png/115449/1539153272919-0d7380a6-b0a2-4366-be19-5cb42758d582.png "")


value值的改变，实时搜索数据，通过input的onChange函数实时获取数据的话，请求动作过于频繁，不妥
这时候就需要一个延时函数，它的作用是，我输入的过程中不会去做任何的动作，输入完成后再去请求数据

函数实现
```javascript
let timeOut = null;
export const delay = (fn:Function):void => {
    // 短时间内清除上一个定时器 不会重复触发fn
  clearTimeout(timeOut);
  timeOut = setTimeout(()=>{
    fn();
  },800)
}
```

使用：
```javascript
import { delay } from 'xxx'
onChange() {
    delay(()=>{
      // code
    })
}
```

完美

### 函数节流
<span data-type="color" style="color:rgb(51, 51, 51)"><span data-type="background" style="background-color:rgb(255, 255, 255)">一个事件没有频率的被频繁触发多次，节流函数可以按照固定频率去执行对应的事件处理方法，目的是降低函数触发频率，避免重复执行不必要的请求</span></span>
