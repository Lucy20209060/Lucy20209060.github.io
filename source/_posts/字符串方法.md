---
title: 字符串方法
date: 2018-11-14 21:29:03
tags: ['js', '字符串']
summary: js字符串的所有内置方法
---
先看下字符串有哪些原型方法


![屏幕快照 2018-11-13 10.25.54.png | center | 346x817](https://cdn.nlark.com/yuque/0/2018/png/115449/1542076076891-e83c7225-483b-4067-b0a8-ffcf7bf542c6.png "")


### anchor()
创建一个`<a>`HTML锚点
```javascript
var myString = "第一章";
var html = myString.anchor("first");
console.log(html) // <a name="first">第一章</a>
```

### charAt(index)
返回字符串在index索引位置的字符，index默认值为0

### charCodeAt(index)
返回字符串在index索引位置的字符对应的<span data-type="color" style="color:rgb(51, 51, 51)"><span data-type="background" style="background-color:rgb(255, 255, 255)">Unicode 编码，如果索引超出范围，则返回</span></span>`NaN`
```javascript
var str = 'A';
console.log(str.charCodeAt(0)); // 65
```

### codePointAt(index)
返回index索引对应的字节的值，没有则返回 `undefined`
```javascript
var str = "𠮷c"; // "𠮷"字占两个字符长度
str.charCodeAt(0)  // 55362
str.codePointAt(0) // 134071

str.charCodeAt(1)  // 57271
str.codePointAt(1)  // 57271

str.charCodeAt(2) // 99
str.codePointAt(2)  // 99
```
```javascript
var str = "abc";
str.charCodeAt(0)  // 97
str.codePointAt(0) // 97

str.charCodeAt(1)  // 98
str.codePointAt(1)  // 98

str.charCodeAt(2) // 99
str.codePointAt(2)  // 99
```

### concat()
用一个字符串连接另外一个或多个字符串
```javascript
var str = 'Hello';
str.concat('lucy','你好吗?') // Hellolucy你好吗?
```

### endsWidth(str, index)
判断当前字符串在指定的`结尾处前`，是否是以另外一个给定的子字符串结尾，大小写敏感
str: 指定的字符串
index: 指定结尾的索引，默认值为字符串结尾处
```javascript
var str = "To be, or not to be, that is the question.";

str.endsWith("question.")  // true
str.endsWith("to be")     // false
str.endsWith("to be", 19)  // true
```

### includes(str, index)
从给定的索引开始查找，字符串是否包含参数中给定的字符串，大小写敏感
index: 默认值为0
```javascript
var str = 'To be, or not to be, that is the question.';

str.includes('To be')       // true
str.includes('question')    // true
str.includes('tobe')         // false
str.includes('To be', 1)    // false
str.includes('TO BE')       // false
```

### indexOf(str, index)
从给定的位置开始查找，返回参数中的字符串首次出现的位置，大小写敏感，没有则返回 -1
index: 默认值为 0

### lastIndexOf(str, index)
查找到给定的位置，返回参数中的字符串最后一次出现的位置，大小写敏感，没有则返回 -1
index: 默认值为 lenght -1

### localeCompare()
返回一个数字，用来判断字符串的排序是否在给定的字符串的前面，或后面，或相同
* 当引用字符串在比较字符串的前面，则返回 -1
* 当引用字符串在比较字符串的后面，则返回 1
* 相同则返回 0
可能有的浏览器的返回值是 -2 和 2，但一定是正负值
```javascript
'a'.localeCompare('c'); // -1 a在c的前面

'check'.localeCompare('against'); // 1
```

### match(reg)
返回一个数组，该数组包含了所有匹配上正则表达式的字符串，否则返回 [""]
```javascript
var str = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';
var regexp = /[A-E]/gi;
var matches_array = str.match(regexp);
console.log(matches_array); // ["A", "B", "C", "D", "E", "a", "b", "c", "d", "e"]
```

### normalize()
<span data-type="color" style="color:rgb(51, 51, 51)"><span data-type="background" style="background-color:rgb(255, 255, 255)">按照指定的一种 Unicode 正规形式将当前字符串正规化</span></span>
* <span data-type="color" style="color:rgb(51, 51, 51)"><span data-type="background" style="background-color:rgb(255, 255, 255)">NFC（默认值）</span></span>
* <span data-type="color" style="color:rgb(51, 51, 51)"><span data-type="background" style="background-color:rgb(255, 255, 255)">NFD</span></span>
* <span data-type="color" style="color:rgb(51, 51, 51)"><span data-type="background" style="background-color:rgb(255, 255, 255)">NFKC</span></span>
* <span data-type="color" style="color:rgb(51, 51, 51)"><span data-type="background" style="background-color:rgb(255, 255, 255)">NFKD</span></span>
```javascript
var str = "\u1E9B\u0323";
str.normalize("NFC"); // "\u1E9B\u0323"
str.normalize("NFD"); // "\u017F\u0323\u0307"
```

### padEnd(len, str)
在字符串末尾重复填充指定的字符串str到指定len长度，返回新字符串，原始字符串没有被修改
如果指定长度小于字符串本身的长度，则返回字符串本身
len: 字符串填充到指定的长度
str: 用来填充的字符串，默认值为" "
```javascript
'abc'.padEnd(10);          // "abc       "
'abc'.padEnd(10, "foo");   // "abcfoofoof"
'abc'.padEnd(6, "123456"); // "abc123"
'abc'.padEnd(1);           // "abc"
```

### PadStart(len, str)
在字符串开头重复填充指定的字符串str到指定len长度，返回新字符串，原始字符串没有被修改
```javascript
'abc'.padStart(10);         // "       abc"
'abc'.padStart(10, "foo");  // "foofoofabc"
'abc'.padStart(6,"123465"); // "123abc"
'abc'.padStart(8, "0");     // "00000abc"
'abc'.padStart(1);          // "abc"
```

### repeat(count)
返回一个重复原字符串count次的副本字符串
count: 大于等于0的整数，小数时，向下取整，禁止取负数或无意义的数字，取0时，返回""
```javascript
"abc".repeat(-1)     // RangeError: repeat count must be positive and less than inifinity
"abc".repeat(0)      // ""
"abc".repeat(2)      // "abcabc"
"abc".repeat(3.5)    // "abcabcabc" 参数count将会被自动转换成整数
```

### replace()
返回一个由替换值替换后的新字符串
使用正则表达式，i 忽略大小写标示， g全局替换，没有这个标示则只会替换第一个
替换模式可以是一个字符串或者是正则表达式
替换值可以是一个字符串或者是每次匹配都要调用的函数
```javascript
var str = 'Returns a duplicate character string that...';
var newstr = str.replace(/that/gi, 'this');
console.log(newstr);  // Returns a duplicate character string this...
```

### search()
执行正则表达式和字符串之间的搜索匹配，返回匹配结果在字符串中的第一个索引，否则返回 -1
```javascript
var str = 'Twas the xmas night before Xmas...';
str.search(/xmas/i) // 9
```

### slice(?begin, ?end)
截取字符串的一部分，并返回这个截取出来的字符串
不影响原字符串
begin: 起始位置，默认值0
end: 终止位置（不包括该位置），省略则截取到末尾
参数可以为负数，则为 lenght + begin/end
```javascript
var str = 'abcdefg';
str.slice(-4,-1) // def
```

### split()
使用指定的分隔符将字符串分割为数组
```javascript
var str = 'Returns a duplicate character string';
str.split(" ") // ["Returns", "a", "duplicate", "character", "string"]
```

限制返回值的元素个数
```javascript
var str = 'Returns a duplicate character string';
str.split(" ",3) // ["Returns", "a", "duplicate"]
```

### startsWith(str, index)
在指定的index索引位置，判断字符串是否以指定的str字符串开头
```javascript
var str = "To be, or not to be, that is the question.";
str.startsWith("To be")         // true
str.startsWith("not to be")     // false
str.startsWith("not to be", 10) // true
```

### substr(index, ?count)
在指定的index索引位置开始，提取指定count长度的字符串
index: 起始索引位置，允许为负数，如果超多字符串的长度，则从0位开始
count: 提取长度，如果为0，则返回空字符串，如果忽略，则到字符串末尾
```javascript
var str = 'abcdefghijk';
str.substr(1,2) // bc
str.substr(-3,2) // ij
str.substr(1)) // bcdefghijk
```

### substring(start, ?end)
提取从start到end(不包括)之间的字符串
* 如果start === end，则返回空字符串
* 如果省略end，则提取到字符串末尾
* 如果任意参数为0或NaN，则被当做0
* 如果任一参数大于length，则被当做length
* 如果start > end,则效果相当于substring(end, start)
```javascript
var anyString = "Mozilla";
// 输出 "Moz"
console.log(anyString.substring(0,3));
console.log(anyString.substring(3,0));
console.log(anyString.substring(3,-3));
console.log(anyString.substring(3,NaN));
console.log(anyString.substring(-2,3));
console.log(anyString.substring(NaN,3));
```

### toLocaleLowerCase()
转化为小写
```javascript
var str = 'ABCD'
str.toLocaleLowerCase() // abcd
```

### toLowerCase()
转化为小写
```javascript
var str = 'ABCD'
str.toLowerCase() // abcd
```

### toLocaleUpperCase()
转化为大写
```javascript
var str = 'abcd'
str.toLocaleUpperCase() // ABCD
```

### toUpperCase()
转化为大写
```javascript
var str = 'abcd'
str.toUpperCase() // ABCD
```

### toString()
返回指定对象的字符串形式
```javascript
var obj = {name: 'lucy'}
obj.toString() // [object Object]

var num = 123;
num.toString() // 123

var arr = [1,2,3]
arr.toString() // 1,2,3
```

### trim()
删除字符串两端的空白字符，返回新的字符串，不修改原字符串
```javascript
var orig = '   foo  ';
orig.trim() // 'foo'

var orig = 'foo    ';
orig.trim() // 'foo'
```

### valueOf()
返回一个string对象的原始值，该值等同于toString()
