---
title: setTimeout值为0的作用
date: 2018-12-16 16:54:40
tags: ['js', 'setTimeout']
summary:
---
首先看一段代码
```javascript
setTimeout(function () {
  console.log('setTimeout');
}, 0);

console.log(1)
console.log(2)

// 执行结果:
// 1
// 2
// setTimeout
```

setTimeout将其回调函数放入任务队列，所以只有同步任务执行完成，才有机会去执行该任务。它的延迟时间从什么时候开始算呢？从所有的同步任务执行完成之后，再处理完队列中处于该任务前面的任务后（队列先进先出）。延迟设置为0表示，同步任务执行完成之后，并且队列中它前面没有要处理的任务了，立刻执行该异步任务，设置为1000表示同步任务结束1秒后，并且队列中它前面没有要处理的任务了，再执行该异步任务。所以此代码到底多长时间之后执行，并不是完全确定的，还取决于同步任务的执行时间和任务队列中前面任务的执行时间
