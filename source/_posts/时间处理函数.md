---
title: 时间处理函数
date: 2019-03-24 17:45:00
tags: ['js', 'Date']
summary: 简单封装一些常用的时间处理函数
---
<a name="8e55024c"></a>
### 某年某月的天数
```javascript
function monthDays(time) {
	const [year, month] = time.split(/-|\//);
	return (new Date(year,month,0)).getDate();
}
var days = monthDays('2019-02'); // 28
```
获取本月最后一天的日期，即可知道本月有多少天
<a name="fca0290c"></a>
### 某日在第几周
某年某月某日在该年是第几周
```javascript
function dayIsWeek(time) {
    const [year, month, date] = time.split(/-|\//);
    // 该年1月1日星期几
    const w = this.dateIsDay(`${year}/1/1`);
    // 与1月1日相隔时间戳
    var diff = new Date(time) - new Date(`${year}/1/1`);
    // 是本年的第几天
    var days = diff/(24*3600*1000) + 1;
    return 1 + Math.ceil((days-(8-w))/7);
}
var week = dayIsWeek('2018-8-20') // 34
```
通过与该年的1月1日做对比，得出某日在第几周
<a name="cd489ec4"></a>
### 获取某日是星期几
```javascript
function dateIsDay(time) {
    var myDate = new Date(time);
    return myDate.getDay();
}
var day = dateIsDay('2019/04/02'); // 2
```
<a name="195e5946"></a>
### 天数间隔
两个时间参数没有顺序区别
```javascript
function dayDiff(dayStart, dayEnd) {
  var diff = new Date(dayEnd) - new Date(dayStart)
  return Math.abs(diff)/(24*3600*1000)
}
var diff = dayDiff('2019-4-7', '2018-4-10'); // 362
```