---
title: Gitflow工作流
date: 2018-10-08 22:16:27
tags: git
summary: git flow
---

<span data-type="color" style="color:rgb(51, 51, 51)"><span data-type="background" style="background-color:rgb(255, 255, 255)">Gitflow工作流程围绕项目发布定义了严格的分支模型，为管理更大规模的项目提供了坚实的基础</span></span>

### 工作原理
* 用于记录历史的分支
Gitflow使用两个分支来记录项目开发的历史，而不是使用单一的master分支。在Gitflow流程中，master只是用于保存官方的发布历史，而不是develop分支才是用于集成各种功能开发的分支。使用版本号为master上的所有提交打标签（tag）也很方便。

![805129-20160814141256953-1841123666.png | center | 614x148](https://cdn.nlark.com/yuque/0/2018/png/115449/1532403667742-2a1e9e5c-a53b-4148-9d55-f5ba0eca59cb.png "")


* 用于功能开发的分支
每一个新功能的开发都应该各自使用独立的分支。为了备份或便于团队之间的合作，这种分支也可以被推送到中央仓库。但是在创建新的功能开发分支时，父分支应该选择develop,而不是master。当功能开发完成时，改动的代码应该被合并到develop分支。功能开发永远不应该直接牵扯到master。


![805129-20160814141501031-263930921.png | center | 614x268](https://cdn.nlark.com/yuque/0/2018/png/115449/1532403695430-80121cd7-5787-474a-807f-3a8c952c1edb.png "")

* 用于发布的分支
一旦develop分支积累了足够多的新功能，你可以基于develop分支建立一个用于产品发布的分支。这个分支的创建意味着一个发布周期的开始，也意味着本次发布不会再增加新的功能——在这个分支上只能修复bug，做一些文档相关的任务。在一切准备就绪的时候，这个分支会被合并到master,并且用版本号打上标签。另外，发布分支上的改动还应该合并入develop分支。在使用专门的一个分支来为发布做准备的好处是，在一个团队忙于当前的发布的同时，另一个团队可以继续为接下来的一次发布开发新功能。


![805129-20160814141857156-1053251031.png | center | 614x320](https://cdn.nlark.com/yuque/0/2018/png/115449/1532420090993-7b128bb8-f211-4b5b-927d-5c721bf19c97.png "")

* 用于维护的分支
发布后维护工作或者紧急问题的快速修复也需要使用一个独立的分支。这是唯一一个可以直接基于创建的分支。一旦问题被修复，所做的修改被合并到master和develop分支（或者用于当前发布的分支）。在这之后，master上还要使用更新的版本号打好标签。


![805129-20160814142051093-1392948534.png | center | 614x380](https://cdn.nlark.com/yuque/0/2018/png/115449/1532420165355-605969ab-6c32-45cf-bdfa-9b5131c8d906.png "")


